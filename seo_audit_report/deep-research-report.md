# SEO & Technical Audit of â€œImport Costsâ€ App

## Part 1: pSEO Strategy & Defensibility

**Duplicate Content & Canonicalization:** The codeâ€™s canonical logic collapses cluster pages onto HS pages when thereâ€™s a single high-confidence mapping (threshold 85%)ã€121â€ L1-L10ã€‘. This means non-hero product pages (like *Solar Panels*, *LED Lighting*, etc.) get canonicalized to their HS code pages if one HS6 entry has â‰¥0.85 confidence. In practice this restricts indexed content to the one â€œHeroâ€ cluster (Lithium Batteries) plus all HS pages. 

This heuristic can help prevent index bloat, but Google does *not* know or care about your 85% metric â€“ it looks at actual content overlap. In effect, you are using the confidence score as a proxy for â€œsimilarity.â€ If a product page and its HS page share mostly identical text, collapsing them is reasonable. However, if the product page could include unique insights (case studies, vendor tips, etc.), you risk losing that value. Googleâ€™s guidelines emphasize consolidating duplicates via `rel=canonical` or sitemap hintsã€135â€ L1-L4ã€‘, but ultimately Google decides based on content. In fact, **a rel="canonical" is treated as a hint, not a strict directive**ã€116â€ L1-L4ã€‘ â€“ Google may still choose the â€œwrongâ€ page if it deems it better. By contrast, a `noindex` meta is a directive that *will* remove a page from resultsã€92â€ L327-L335ã€‘. 

In your setup, duplicated pages (synonyms and collapsed product pages) get a `rel=canonical` to the HS or canonical cluster, **and** the index policy forces `noindex` (see code: if `isDuplicateCanonicalized` then indexStatus = NOINDEXã€123â€ L72-L74ã€‘ã€123â€ L84-L92ã€‘). Using both signals is redundant and may be mixed messaging. Googleâ€™s John Mueller has observed that either solution can work, but choosing one clearly (usually canonical) is often preferredã€116â€ L1-L4ã€‘. In practice, if youâ€™ve already canonicalized a page to another, you might omit the `noindex` â€“ Google will then drop it automatically. Conversely, if you *only* want to signal â€œdonâ€™t index this at all,â€ a noindex alone suffices. Either way, the important part is that Google is being consistently told which version to surface.

**Hero vs. HS Pages (Cannibalization):** Currently, **Lithium Batteries (hero)** pages and the **HS 850760** page will both be indexable, leading to potential keyword overlap. These pages target similar queries (import duty for lithium batteries vs. import duty for HS 850760). To mitigate cannibalization, clearly differentiate their content or signal preference. For example, on the HS page you could include a prominent canonical link or section that directs users to the â€œheroâ€ product page (and vice versa). Internal linking is already present (HS pages link to related product clusters and *Import Duty Directory*), but consider explicitly referencing the hero page: e.g. an HS page could have a â€œAlso see our Lithium Batteries import reportâ€ callout. This both helps users and hints to Google that the Lithium page is the more comprehensive resource on that commodity. In short, ensure each page emphasizes unique information. 

**Mass-Generated Content & â€œHelpful Contentâ€:** Googleâ€™s Helpful Content guidelines warn against â€œmass-producedâ€ templated pages without unique valueã€83â€ L1-L4ã€‘. Template-driven calculators risk being seen as low-value if all pages look alike. To defend against this, **add real information gain to each page**. Currently, pages use a generic template: adding dynamic values and data-driven lists. You can enhance them by including:  
- **Product/Commodity Context:** For product (cluster) pages, include descriptive text about the commodity (e.g. â€œLithium batteries are used in EVs and have special shipping rulesâ€¦â€). For HS pages, describe the category that code covers. This gives original content beyond calculations.  
- **Rich Explanations:** Interpret the results. For instance, provide a paragraph summarizing the result (â€œImporting X costs approx Y ZAR per unit due to duty and VATâ€) or explaining key factors (incoterm, freight impact, special regulations).  
- **FAQs/Guidance:** Expand the FAQ section with specific Q&A about the product/HS. Use actual user questions (â€œWhat paperwork is needed for lithium batteries?â€). Adding a **FAQPage JSON-LD** block (schema.org) can further signal helpfulnessã€127â€ L1-L4ã€‘.  
- **Interactive & Visual Tools:** The app is already interactive (calculator, scenario presets) â€“ which is excellent. Googleâ€™s programmatic SEO best practices emphasize **interactive elements** (calculators, filters, maps) to add unique utilityã€117â€ L599-L607ã€‘. Continue developing such features (e.g. charts of cost breakdown trends, country comparisons, or maps of port hubs).  
- **User-Generated Content:** If possible later, integrate user Q&A or reviews (e.g. anecdotal import tips). UGC on programmatic pages often provides exactly the unique value Google looks forã€117â€ L599-L607ã€‘. 

In summary, ensure pages donâ€™t feel like thin â€œdoorwayâ€ pages (which have led to penalties in other casesã€117â€ L462-L470ã€‘). Emphasize first-hand expertise (import advice) and practical details so each URL stands out on its own.

## Part 1: Crawl Budget & Indexing

**robots.txt & sitemap:** The `robots.ts` currently disallows only `/api/` and `/dashboard` and points to `/sitemap.xml`. This is fine. The critical part is your **sitemap generation**: by design, `sitemap.ts` only includes pages marked `INDEX`. You rely on a built `page-index.json` registry of indexable pages to drive the sitemap. In principle this scales to ~10K URLs: a JSON file with 10K entries is manageable, and Nextâ€™s static sitemap route can iterate over them. The build time might increase, but itâ€™s acceptable for a moderate corpus. If you anticipate 10K+, ensure the sitemap generation is efficient (e.g. using streams) and possibly split into a sitemap **index** if over 50K. But at 10K URLs, a single sitemap is fine.

**Noindex vs. Canonical:** As noted, you currently use **both** rel=canonical and meta robots noindex on collapsed product pages. Googleâ€™s guidance suggests that canonical signals alone are usually sufficient to consolidate duplicatesã€135â€ L1-L4ã€‘. In fact, Google treats all URLs in the sitemap as *suggested* canonicalsã€135â€ L1-L4ã€‘. Because canonical tags can still leave a page in the index with its own URL, some SEOs prefer adding `noindex,follow` on truly unwanted pages. Itâ€™s not inherently wrong to do both (Mueller says it can be okay to use both), but it is a â€œmixed signalâ€ scenario. In our case, since those product pages carry no new information, itâ€™s safe either way. If the sole goal is to remove them entirely, `noindex,follow` ensures they wonâ€™t appear (and `follow` lets link equity flow). The current approach (canonical + noindex) will effectively drop them anyway. 

Given Googleâ€™s advice to be consistent and clear with signalsã€116â€ L1-L4ã€‘ã€135â€ L1-L4ã€‘, we recommend choosing one method. A rel=canonical to the preferred page and *allowing* indexing is usually enough (Google then only indexes the canonical target). Alternatively, using `noindex,follow` without a canonical tag is simpler: it guarantees removal from search, though you lose the ability to consolidate link signals. Since you have a robust canonical system, you might remove the noindex tag and let canonical handle it, or vice versa. The key is to confirm via Search Console that Google is indexing only the intended pages (no orphan or duplicate entries).

## Part 2: Pre-Launch Health Report

### ğŸŸ¢ SEO Technical Health

- **Metadata:** The templates generate distinct titles/descriptions for product vs. HS pages. For a product page (e.g. Lithium Batteries) the title is *â€œImport duty & landed cost for Lithium Batteries from China to South Africaâ€*ã€124â€ L7-L10ã€‘. For an HS page it would be *â€œImport duty & landed cost for HS 850760 from China to South Africaâ€*. These differ in the key element (product name vs HS code) and the description accordingly mentions either the commodity name or the HS code. This is good practice: titles/descriptions are not identical. One improvement: HS pages could be more user-friendly by including a descriptive name, not just the code, e.g. â€œHS 850760 (Lithium-Ion Batteries)â€. This could be done by looking up the HS description and injecting it. Distinct, targeted meta-tags help avoid keyword overlap.

- **Structured Data:** The site includes a JSON-LD â€œWebApplicationâ€ schema for the calculator (via `ProductSchema` component)ã€87â€ L17-L24ã€‘. This is creative but not the usual â€œProductâ€ or â€œFAQPageâ€ schema that Googleâ€™s rich snippets expect for product or FAQ content. You have visible FAQ content (via `<details>`), but itâ€™s not marked up with FAQ structured data. According to Google, marking up FAQs with schema can enable FAQ rich resultsã€127â€ L1-L4ã€‘. Likewise, a BreadcrumbList JSON-LD (for the import duty directory hierarchy) is strongly recommended for navigation snippetsã€134â€ L115-L123ã€‘. Currently, no FAQ schema or breadcrumb schema is output. Adding **FAQPage** JSON-LD (covering the on-page FAQs) and **BreadcrumbList** schema (reflecting â€œHome > Import Duty Directory > [Product or HS]â€) would improve eligibility for rich results and clarify site structure. Without these, you wonâ€™t earn FAQ or breadcrumb enhancements. In short: the groundwork is there, but implement standard schema markup for FAQ and breadcrumbsã€127â€ L1-L4ã€‘ã€134â€ L115-L123ã€‘ to maximize SERP visibility.

- **Internal Linking / Orphan Pages:** The build process generates internal links for each page. Product pages link to their related HS pages, to sibling clusters, and to key tool pages (calculator, classifier, compare, directory)ã€49â€ L8-L13ã€‘. HS pages link to other originsâ€™ HS pages, to relevant product clusters, and the HS hub/ tools. This dense interlinking means *all* indexable pages have multiple incoming links â€“ no orphan â€œdead-endâ€ pages. The `indexPolicy` even requires â‰¥6 internal links for a page to score wellã€123â€ L76-L84ã€‘. Reviewing the code suggests virtually no page meets `INDEX` status without several internal links. This is excellent: it distributes PageRank and helps crawling. Just double-check that your key hub pages (like the directory landing page or HS code directory) are linked from main navigation so they arenâ€™t isolated.

### ğŸŸ¡ Performance & Core Web Vitals

- **Client-Side Load (MoneyPageClient):** The `MoneyPageClient.tsx` is a very rich component with many sub-components (`BusinessDashboard`, `SensitivityGrid`, etc.). While this enables interactivity, it also means a large React bundle. Rendering  numerous charts, tables, and tabs could delay First Input. Consider lazy-loading heavy components (e.g. any graph/chart) and using `useMemo` or `React.memo` to avoid unnecessary re-renders. I see one memoized value (`headingLabel`), which is good. But the page does render many components on load. Ensure that non-critical sections (like Scenario Presets or Data References) are collapsed or loaded after interaction. Using Next.js 15 features, you could mark parts of the component with `use client` only where needed. For example, if some sections donâ€™t change with user input, render them server-side. Offscreen content (like the â€œNext Best Actionsâ€ links) could use native lazy-loading (`loading="lazy"`) or IntersectionObserver to defer.

- **Next.js Caching / SSR:** The page uses App Router with server components for content and a single client component for interactivity. This is good: metadata and initial values are SSR. The `pageRegistry` caches the build pass for 30s to avoid recompute. With many pages, ensure the `getBuiltPages` caching is effective â€“ it is, with a 30-second TTLã€73â€ L6-L14ã€‘. For Core Web Vitals (especially INP), minimize reflows. For example, the `BusinessDashboard` panel and charts (if any) should avoid forcing re-layout on every input change. Without seeing its code, check that it uses `requestIdleCallback` or similar to handle heavy updates. In general, test with Lighthouse: large JS bundles on client could hurt TTFB and input readiness. If WPCoreVitals show risk, consider splitting `MoneyPageClient` into multiple smaller client components (e.g. the sidebar sticky CTA can be a separate client widget). 

Overall, no obvious *code* anti-pattern leaps out, but the sheer size suggests it should be profiled. Using Next.jsâ€™s caching (`export const revalidate = â€¦`, or tags) for data (docs, risks) can help if those ever come from APIs. Currently those seem static from fixtures, so OK.

### ğŸ”´ Business Logic & Safety

- **Calculation Accuracy (Pricing Risk):** The `calculateLandedCost` function implements the core formula, including duty, VAT, levies, port charges, agency fees, demurrage, and product-specific extrasã€110â€ L208-L217ã€‘. It carefully rounds values and guards against division by zero (`Math.max(1, input.quantity)`ã€110â€ L213-L217ã€‘). The code returns `null` if no tariff rate is found (in which case the page is noindexed). I see no obvious NaN or zero-divide bugs: every field is accounted for even if zero. A possible edge case is if **all** input costs are zero (invoice=0, quantity=0) â€“ but quantity is floored to 1, so per-unit cost becomes 0, and the margin formula returns 0%. Thatâ€™s not a crash, just a degenerate result. The code also shows a â€œverdictâ€ string in that case (â€œMissing tariff data: page remains noindexâ€¦â€ã€99â€ L62-L69ã€‘) ensuring users arenâ€™t misled by empty outputs. Overall, the math seems robust. I would spot-check that extreme values (like zero quantity, or extremely high insurance) produce sensible outputs. Also ensure that any â€œwarningsâ€ are user-friendly and visible; e.g. a negative margin should clearly say â€œnot viableâ€ as the code does. 

- **Disclaimer & Liability:** The UI language says â€œEstimatedâ€ nowhere explicitly on the MoneyPage itself, but you have a **Disclaimer page** that states: *â€œEstimates are decision support only. Always verify final declarations with licensed customs professionals.â€*ã€114â€ L5-L7ã€‘. This is good practice. To reinforce it, consider adding a brief note on each money page (e.g. a subtle footnote â€œ*All values are estimates.â€). But the disclaimer content is clear and concise. The FAQ already addresses the *fact* that some pages are noindexed due to data quality (â€œWhy are some pages noindex? Pages remain NOINDEX if data quality or readiness gates are not met.â€)ã€85â€ L9-L12ã€‘, which is helpful for transparency. So, liability-wise, you have covered the essentials. As a further precaution, ensure that any currency or tax rates have source attributions (you already include tariff version in References), so users can verify accuracy. 

**Health Summary:** Overall, technical SEO health is **ğŸŸ¢ Good** â€“ metadata is well-structured and canonical rules are implemented. Key improvements are adding structured data (FAQ/Breadcrumb) and maybe tweaking title phrasing. Performance is **ğŸŸ¡ Caution** â€“ the client-side bundle is heavy, so optimize re-renders and consider code-splitting/lazy-loading. Business logic is **ğŸŸ¢ Solid** â€“ calculations are careful and a clear disclaimer is present. With these refinements, the app should be robust both for SEO and user trust.

**Sources:** We referenced Googleâ€™s Search Central documentation on canonical usage and structured dataã€116â€ L1-L4ã€‘ã€127â€ L1-L4ã€‘ã€134â€ L115-L123ã€‘, as well as SEO best-practices on programmatic contentã€117â€ L599-L607ã€‘. We also cited relevant code segments from the project repository to illustrate current logicã€121â€ L1-L10ã€‘ã€123â€ L72-L74ã€‘. These guided our recommendations and confirmed the implementation details.